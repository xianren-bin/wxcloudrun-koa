import{j as g}from"./method-240c52ff.js";import{u as y}from"./index-e37b0f9a.js";import"../index-eb0c0c80.js";import"./designer-215c5a37.js";import"./index-7154c37a.js";import"./lodash-3ef7b69b.js";const _={style:{margin:"8px"}},E=Vue.defineComponent({__name:"index",props:{lyrow:{},lyrows:{},webformId:{},pageId:{}},setup(i,{expose:s}){var d;const p=i,r=Vue.ref({children:"children",label:"label"}),h=()=>{const e={};e[a.id]=t.value,e[a.id+"_radio"]=t.value,e[a.id+"_check"]=t.value,m(e)},f=Vue.computed({get(){return t.value?t.value.split(","):[]},set(e){t.value=e.join(",")}}),k=Vue.computed({get(){return t.value?t.value:[]},set(e){t.value=e}}),{insidevalue:t,layer:a,eventFun:c,RequestData:v,$patch:m}=y(p,{updateVal:h}),n=Vue.ref(),V=e=>{var l;a.checkable=="radio"&&(k.value=e[(l=a.data)==null?void 0:l.defaultProps.id],c("radio"))},b=(e,l,o)=>{a.checkable=="check"&&(f.value=n.value.getCheckedKeys(!1),c("check"))};r.value.label=(d=a.data)==null?void 0:d.defaultProps.label;let u=Vue.ref([]);return s({initial:async()=>{var l,o;const e=await v();u.value=g(JSON.parse(JSON.stringify(e.data)),(l=a.data)==null?void 0:l.defaultProps.id,(o=a.data)==null?void 0:o.defaultProps.pid)}}),(e,l)=>{var o;return Vue.openBlock(),Vue.createElementBlock("div",_,[(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElTree),{ref_key:"treeRef",ref:n,"highlight-current":Vue.unref(a).checkable=="radio","expand-on-click-node":Vue.unref(a).checkable!="radio",key:r.value.label,"node-key":(o=Vue.unref(a).data)==null?void 0:o.defaultProps.id,"show-checkbox":Vue.unref(a).checkable=="check",data:Vue.unref(u),props:r.value,onNodeClick:V,onCheckChange:b},null,8,["highlight-current","expand-on-click-node","node-key","show-checkbox","data","props"]))])}}});export{E as default};
