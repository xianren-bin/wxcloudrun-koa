import{C as s}from"./method-240c52ff.js";import{l as a}from"./mixins-bd2b1c16.js";import{_ as d}from"../index-eb0c0c80.js";import"./index-7154c37a.js";import"./designer-215c5a37.js";import"./lodash-3ef7b69b.js";const u={name:"componentHyperlink",mixins:[a],props:{layer:Object},data(){return{insidevalue:"",url:"",type:"",isHovered:!1}},created(){},watch:{layer:{"layer.mouseoverBackgroundColor":{handler(r){var e=document.getElementsByClassName("text-container")[0],t=e.style.backgroundColor;e.addEventListener("mouseenter",function(){e.style.backgroundColor=r}),e.addEventListener("mouseleave",function(){e.style.backgroundColor=t})}},"layer.mouseoverBorderColor":{handler(r){var e=document.getElementsByClassName("text-container")[0],t=e.style.borderColor;e.addEventListener("mouseenter",function(){e.style.borderColor=r}),e.addEventListener("mouseleave",function(){e.style.borderColor=t})}},"layer.mouseoverColor":{handler(r){var e=document.getElementsByClassName("text-container")[0],t=e.style.color;e.addEventListener("mouseenter",function(){e.style.color=r}),e.addEventListener("mouseleave",function(){e.style.color=t})}}},zoomlevel:{handler:function(r,e){this.initial()},deep:!0}},computed:{textStyle(){let r=s(this.layer.textStyle,this.zoomlevel);return r["is-switch-on"]||delete r["background-color"],r},borderStyle(){return s(this.layer.borderStyle,this.zoomlevel)},bgColor(){return this.isHovered?this.layer.mouseoverBackgroundColor:this.textStyle["background-color"]},borderColor(){return this.isHovered?this.layer.mouseoverBorderColor:this.textStyle["border-color"]},textColor(){return this.isHovered?this.layer.mouseoverColor:this.textStyle.color}},methods:{initial(){return new Promise((r,e)=>{this.RequestData(this.layer.data).then(t=>{let n=t.data;this.isJSON(n)&&(this.insidevalue=JSON.parse(n).text,this.url=JSON.parse(n).url,this.type=this.layer.data.type),r()})})},getVal(){return this.insidevalue},setVal(r){this.insidevalue=r},isJSON(r){if(!r)return!1;try{return JSON.parse(r),!0}catch{return!1}},clickToJump(){this.eventFun("click"),this.url&&(this.type=="window"?window.open(this.url,"_blank"):window.location.href=this.url)},onMouseEnter(){this.isHovered=!0},onMouseLeave(){this.isHovered=!1}}},y=["innerHTML"];function c(r,e,t,n,i,o){return Vue.openBlock(),Vue.createElementBlock("div",null,[Vue.createElementVNode("div",{onMouseenter:e[0]||(e[0]=(...l)=>o.onMouseEnter&&o.onMouseEnter(...l)),onMouseleave:e[1]||(e[1]=(...l)=>o.onMouseLeave&&o.onMouseLeave(...l)),class:"text-container",onClick:e[2]||(e[2]=(...l)=>o.clickToJump&&o.clickToJump(...l)),style:Vue.normalizeStyle([{"line-height":t.layer.style.height*r.zoomlevel/100-(t.layer.style.border?t.layer.style.border.borderTopWidth:0)-(t.layer.style.border?t.layer.style.border.borderBottomWidth:0)+"px"},o.textStyle,o.borderStyle,{"border-color":o.borderColor},{color:o.textColor},{"background-color":o.bgColor}]),innerHTML:i.insidevalue},null,44,y)])}const x=d(u,[["render",c],["__scopeId","data-v-66601014"]]);export{x as default};
